<!DOCTYPE html>
<html>

<style>
body {
  background-color: #FD9AB6;
}

button {
  border: 2px solid black;
  background-color: white;
  color: black;
  padding: 14px 28px;
  font-size: 16px;
  cursor: pointer;
  border-color: #7CC5C4;
  color: #7CC5C4
}

button:hover {
  background: #7CC5C4;
  color: white;
}

#container {
  background-color: #F4D1D9;
  height: 50px;
  width: 25%;
}

input{
  float:left;
  width: 45px;
  margin-top:10px; 
  height: 20px; 
  text-align: center; 
  color: white;
  background: #23b7e5; 
  font-size: 13px; 
  border-color: #23b7e5;
  border-radius:2px; 
  padding: 0px; 
  }
.control-label{
  float:left;
  border: thin red solid; 
  margin-top: 10px;
}

</style>

<body>

<table border=1>
  <tr><td><button id='do'>Do long calc - No Time Out</button></td>
  <td><div id='status'>Not Calculating yet.</div></td>
  </tr>
  <tr><td>
    <button id='do_ok'>Do long calc - Set Time Out 0</button></td>
    <td><div id='status_ok'>Not Calculating yet.</div></td>
    </tr>
    </table>
  
  <script>
  

  function long_running(status_div) {
    var result = 0;
    // Use 1000/700/300 limits in Chrome, 
    //    300/100/100 in IE8, 1000/500/200 in FF
    for (var i = 0; i < 1000; i++) {
        for (var j = 0; j < 700; j++) {
            for (var k = 0; k < 300; k++) {
                result = result + i + j + k;
            }
        }
    }
    document.getElementById('status').innerHTML = "Done!";
}

function long_running2(status_div) {

var result = 0;
// Use 1000/700/300 limits in Chrome, 
//    300/100/100 in IE8, 1000/500/200 in FF
for (var i = 0; i < 1000; i++) {
    for (var j = 0; j < 700; j++) {
        for (var k = 0; k < 300; k++) {
            result = result + i + j + k;
        }
    }
}
document.getElementById('status_ok').innerHTML = "Done!";
}

function status_update(status_div) {
  document.getElementById('status').innerHTML = "calculating...";
}

function status_update2(status_div) {
  document.getElementById('status_ok').innerHTML = "calculating...";
}

// Assign events to buttons
document.getElementById('do').addEventListener('click', long_running, status_update);

document.getElementById('do_ok').addEventListener("click", function(){
    setTimeout(function(){
        long_running2();
    }, 0);
    status_update2()
});

</script>

</body>
</html>
