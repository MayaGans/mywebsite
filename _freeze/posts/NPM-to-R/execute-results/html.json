{
  "hash": "723ca8657f7b5be2e161d4c3f71de57e",
  "result": {
    "markdown": "---\ntitle: \"NPM to R!\"\nformat: html\nserver:\n  type: shiny\n  ojs-export: viewof\n---\n\n\nImport my little utils library as a demo\n\n\n```{ojs}\nmaya_utils = import('https://cdn.skypack.dev/maya_utils@1.0.9?min')\n```\n\n\nCreate an observable button using `viewof`\n\n\n```{ojs}\nviewof new_arr = Inputs.button(\"New Array\")\n```\n\n\ncall the button in R using `input$new_arr` and do R stuff, then send that R `reactive` back to `JS` using `ojs_define`\n\n\n::: {.cell context='server'}\n\n:::\n\n\nNow we can run the function `removeDuplicates` that we imported from the `maya_utils` library on our `R` array!\n\n\n```{ojs}\nmaya_utils.removeDuplicates(my_array)\n```\n\npreserved6ae81c92b2521df\npreserve6547e87f2c151900\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"dependencies\">\n{\"type\":\"list\",\"attributes\":{},\"value\":[]}\n</script>\n<!--/html_preserve-->\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"execution_dependencies\">\n{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\"]}},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\",\"version\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"data.frame\"]},\"row.names\":{\"type\":\"integer\",\"attributes\":{},\"value\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"base\",\"compiler\",\"datasets\",\"digest\",\"ellipsis\",\"evaluate\",\"fastmap\",\"graphics\",\"grDevices\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"jsonlite\",\"knitr\",\"later\",\"lifecycle\",\"magrittr\",\"methods\",\"mime\",\"promises\",\"R6\",\"Rcpp\",\"rlang\",\"rmarkdown\",\"shiny\",\"stats\",\"stringi\",\"stringr\",\"tools\",\"utils\",\"xfun\",\"xtable\",\"yaml\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.1.0\",\"4.1.0\",\"4.1.0\",\"0.6.27\",\"0.3.2\",\"0.14\",\"1.1.0\",\"4.1.0\",\"4.1.0\",\"0.5.1.1\",\"1.5.3\",\"1.6.1\",\"1.7.2\",\"1.33\",\"1.2.0\",\"1.0.0\",\"2.0.1\",\"4.1.0\",\"0.11\",\"1.2.0.1\",\"2.5.0\",\"1.0.7\",\"0.4.11\",\"2.13\",\"1.6.0\",\"4.1.0\",\"1.7.3\",\"1.4.0\",\"4.1.0\",\"4.1.0\",\"0.30\",\"1.8-4\",\"2.2.1\"]}]}]}\n</script>\n<!--/html_preserve-->",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {
      "preserve6547e87f2c151900": "\n<script type=\"application/shiny-prerendered\" data-context=\"server-extras\">\nojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {\n  quos <- rlang::enquos(...)\n  vars <- rlang::list2(...)\n  nm <- names(vars)\n  if (is.null(nm)) {\n    nm <- rep_len(\"\", length(vars))\n  }\n  mapply(function(q, nm, val) {\n    # Infer name, if possible\n    if (nm == \"\") {\n      tryCatch({\n        nm <- rlang::as_name(q)\n      }, error = function(e) {\n        code <- paste(collapse = \"\\n\", deparse(rlang::f_rhs(q)))\n        stop(\"ojs_define() could not create a name for the argument: \", code)\n      })\n    }\n    .session$output[[nm]] <- val\n    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)\n    .session$sendCustomMessage(\"ojs-export\", list(name = nm))\n    NULL\n  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)\n  invisible()\n}\n</script>\n",
      "preserved6ae81c92b2521df": "\n<script type=\"application/shiny-prerendered\" data-context=\"server\">\nmy_array <- eventReactive(input$new_arr, {\n  round(rnorm(12, 5))\n})\n\nojs_define(my_array)\n</script>\n"
    },
    "postProcess": true
  }
}